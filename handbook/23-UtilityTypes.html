<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>äºŒåä¸‰ã€è”åˆç±»å‹ | TypeScriptæ‰‹å†Œ</title>
    <meta name="description" content="TypeScript å­¦ä¹ æ‰‹å†Œ">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/ts-translate/assets/css/0.styles.0a5bcfed.css" as="style"><link rel="preload" href="/ts-translate/assets/js/app.141fbb0f.js" as="script"><link rel="preload" href="/ts-translate/assets/js/2.a069a211.js" as="script"><link rel="preload" href="/ts-translate/assets/js/40.dfeb8b60.js" as="script"><link rel="prefetch" href="/ts-translate/assets/js/10.06950121.js"><link rel="prefetch" href="/ts-translate/assets/js/11.6381239b.js"><link rel="prefetch" href="/ts-translate/assets/js/12.8176b810.js"><link rel="prefetch" href="/ts-translate/assets/js/13.0a03fbf3.js"><link rel="prefetch" href="/ts-translate/assets/js/14.3482aea1.js"><link rel="prefetch" href="/ts-translate/assets/js/15.7831b050.js"><link rel="prefetch" href="/ts-translate/assets/js/16.2e5641fb.js"><link rel="prefetch" href="/ts-translate/assets/js/17.caa1f0c3.js"><link rel="prefetch" href="/ts-translate/assets/js/18.33f52e19.js"><link rel="prefetch" href="/ts-translate/assets/js/19.8756dd76.js"><link rel="prefetch" href="/ts-translate/assets/js/20.cfed5059.js"><link rel="prefetch" href="/ts-translate/assets/js/21.090f26df.js"><link rel="prefetch" href="/ts-translate/assets/js/22.ff9d5ff1.js"><link rel="prefetch" href="/ts-translate/assets/js/23.9732edd0.js"><link rel="prefetch" href="/ts-translate/assets/js/24.0ce34daf.js"><link rel="prefetch" href="/ts-translate/assets/js/25.240c5ec5.js"><link rel="prefetch" href="/ts-translate/assets/js/26.ece5b4f8.js"><link rel="prefetch" href="/ts-translate/assets/js/27.5cea32b1.js"><link rel="prefetch" href="/ts-translate/assets/js/28.4984b1b2.js"><link rel="prefetch" href="/ts-translate/assets/js/29.6cbf69a3.js"><link rel="prefetch" href="/ts-translate/assets/js/3.572305aa.js"><link rel="prefetch" href="/ts-translate/assets/js/30.21d3e389.js"><link rel="prefetch" href="/ts-translate/assets/js/31.e611e503.js"><link rel="prefetch" href="/ts-translate/assets/js/32.5d9d0c75.js"><link rel="prefetch" href="/ts-translate/assets/js/33.2cb939dd.js"><link rel="prefetch" href="/ts-translate/assets/js/34.f373a061.js"><link rel="prefetch" href="/ts-translate/assets/js/35.9d601f8b.js"><link rel="prefetch" href="/ts-translate/assets/js/36.45e2645f.js"><link rel="prefetch" href="/ts-translate/assets/js/37.ec9011fa.js"><link rel="prefetch" href="/ts-translate/assets/js/38.ecaf875b.js"><link rel="prefetch" href="/ts-translate/assets/js/39.79652b75.js"><link rel="prefetch" href="/ts-translate/assets/js/4.202d41bd.js"><link rel="prefetch" href="/ts-translate/assets/js/41.19371e04.js"><link rel="prefetch" href="/ts-translate/assets/js/42.12a43247.js"><link rel="prefetch" href="/ts-translate/assets/js/43.08babc31.js"><link rel="prefetch" href="/ts-translate/assets/js/5.7ad19b7d.js"><link rel="prefetch" href="/ts-translate/assets/js/6.f507dfa3.js"><link rel="prefetch" href="/ts-translate/assets/js/7.61be865b.js"><link rel="prefetch" href="/ts-translate/assets/js/8.b7b7c55c.js"><link rel="prefetch" href="/ts-translate/assets/js/9.59f9442d.js">
    <link rel="stylesheet" href="/ts-translate/assets/css/0.styles.0a5bcfed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ts-translate/" class="home-link router-link-active"><!----> <span class="site-name">TypeScriptæ‰‹å†Œ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ts-translate/handbook/" class="nav-link router-link-active">
  è¯­æ³•
</a></div><div class="nav-item"><a href="/ts-translate/compilerOptions/" class="nav-link">
  ç¼–è¯‘é€‰é¡¹
</a></div><div class="nav-item"><a href="/ts-translate/declarationFiles/" class="nav-link">
  å£°æ˜æ–‡ä»¶
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ts-translate/handbook/" class="nav-link router-link-active">
  è¯­æ³•
</a></div><div class="nav-item"><a href="/ts-translate/compilerOptions/" class="nav-link">
  ç¼–è¯‘é€‰é¡¹
</a></div><div class="nav-item"><a href="/ts-translate/declarationFiles/" class="nav-link">
  å£°æ˜æ–‡ä»¶
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ts-translate/handbook/01-Basic.html" class="sidebar-link">ä¸€ã€åŸºæœ¬ç±»å‹</a></li><li><a href="/ts-translate/handbook/02-VariableDecorations.html" class="sidebar-link">äºŒã€å˜é‡å£°æ˜</a></li><li><a href="/ts-translate/handbook/03-Interface.html" class="sidebar-link">ä¸‰ã€Interface æ¥å£</a></li><li><a href="/ts-translate/handbook/04-Class.html" class="sidebar-link">å››ã€ç±»</a></li><li><a href="/ts-translate/handbook/05-Function.html" class="sidebar-link">äº”ã€å‡½æ•°</a></li><li><a href="/ts-translate/handbook/06-Generics.html" class="sidebar-link">å…­ã€æ³›å‹</a></li><li><a href="/ts-translate/handbook/07-Enums.html" class="sidebar-link">ä¸ƒã€æšä¸¾</a></li><li><a href="/ts-translate/handbook/08-TypeInference.html" class="sidebar-link">å…«ã€ç±»å‹å¼•ç”¨</a></li><li><a href="/ts-translate/handbook/09-TypeCompatibility.html" class="sidebar-link">ä¹ã€å…¼å®¹æ€§</a></li><li><a href="/ts-translate/handbook/10-AdvanceTypes.html" class="sidebar-link">åã€å¢å¼ºç±»å‹</a></li><li><a href="/ts-translate/handbook/11-Symbols.html" class="sidebar-link">åä¸€ã€Symbol</a></li><li><a href="/ts-translate/handbook/12-IteratorAndGenerators.html" class="sidebar-link">åäºŒã€å¯è¿­ä»£æ€§ Iterables</a></li><li><a href="/ts-translate/handbook/13-Modules.html" class="sidebar-link">åä¸‰ã€æ¨¡å—</a></li><li><a href="/ts-translate/handbook/14-Namespaces.html" class="sidebar-link">åå››ã€å‘½åç©ºé—´</a></li><li><a href="/ts-translate/handbook/15-NameSpacesModules.html" class="sidebar-link">åäº”ã€å‘½åç©ºé—´ä¸æ¨¡å—</a></li><li><a href="/ts-translate/handbook/16-ModulesResolution.html" class="sidebar-link">åå…­ã€æ¨¡å—è§£æ</a></li><li><a href="/ts-translate/handbook/17-DelarationMerging.html" class="sidebar-link">åä¸ƒã€å£°æ˜åˆå¹¶</a></li><li><a href="/ts-translate/handbook/18-JSX.html" class="sidebar-link">åå…«ã€JSX</a></li><li><a href="/ts-translate/handbook/19-Decorators.html" class="sidebar-link">åä¹ã€ä¿®é¥°å™¨</a></li><li><a href="/ts-translate/handbook/20-Mixins.html" class="sidebar-link">äºŒåã€æ··å…¥</a></li><li><a href="/ts-translate/handbook/21-TripleSlashDirectives.html" class="sidebar-link">äºŒåä¸€ã€ä¸‰æ–œçº¿æŒ‡ä»¤</a></li><li><a href="/ts-translate/handbook/22-JSDocSupportedTypes.html" class="sidebar-link">äºŒåäºŒã€ç±»å‹æ£€æŸ¥JavaScriptæ–‡ä»¶</a></li><li><a href="/ts-translate/handbook/23-UtilityTypes.html" class="active sidebar-link">äºŒåä¸‰ã€è”åˆç±»å‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ts-translate/handbook/23-UtilityTypes.html#ç›®å½•" class="sidebar-link">ç›®å½•</a></li></ul></li><li><a href="/ts-translate/handbook/24-TypescriptIgnore.html" class="sidebar-link">äºŒåå››ã€TypeScript ç±»å‹å¿½ç•¥</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="äºŒåä¸‰ã€è”åˆç±»å‹"><a href="#äºŒåä¸‰ã€è”åˆç±»å‹" class="header-anchor">#</a> äºŒåä¸‰ã€è”åˆç±»å‹</h1> <h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="header-anchor">#</a> ä»‹ç»</h1> <p>TypeScriptæä¾›äº†å‡ ç§å®ç”¨ç¨‹åºç±»å‹ï¼Œä»¥æ–¹ä¾¿è¿›è¡Œå¸¸è§çš„ç±»å‹è½¬æ¢ã€‚è¿™äº›å®ç”¨ç¨‹åºåœ¨å…¨çƒå¯ç”¨ã€‚</p> <h2 id="ç›®å½•"><a href="#ç›®å½•" class="header-anchor">#</a> ç›®å½•</h2> <ul><li><a href="#%e4%ba%8c%e5%8d%81%e4%b8%89%e8%81%94%e5%90%88%e7%b1%bb%e5%9e%8b">äºŒåä¸‰ã€è”åˆç±»å‹</a></li> <li><a href="#%e4%bb%8b%e7%bb%8d">ä»‹ç»</a> <ul><li><a href="#%e7%9b%ae%e5%bd%95">ç›®å½•</a></li></ul></li> <li><a href="#partialt"><code>Partial&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90">ğŸŒ°ä¾‹å­</a></li> <li><a href="#readonlyt"><code>Readonly&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-1">ğŸŒ°ä¾‹å­</a>
- <a href="#objectfreeze"><code>Object.freeze</code></a></li> <li><a href="#recordkt"><code>Record&lt;K,T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-2">ğŸŒ°ä¾‹å­</a></li> <li><a href="#picktk"><code>Pick&lt;T,K&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-3">ğŸŒ°ä¾‹å­</a></li> <li><a href="#omittk"><code>Omit&lt;T,K&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-4">ğŸŒ°ä¾‹å­</a></li> <li><a href="#excludetu"><code>Exclude&lt;T,U&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-5">ğŸŒ°ä¾‹å­</a></li> <li><a href="#extracttu"><code>Extract&lt;T,U&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-6">ğŸŒ°ä¾‹å­</a></li> <li><a href="#nonnullablet"><code>NonNullable&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-7">ğŸŒ°ä¾‹å­</a></li> <li><a href="#parameterst"><code>Parameters&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-8">ğŸŒ°ä¾‹å­</a></li> <li><a href="#constructorparameterst"><code>ConstructorParameters&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-9">ğŸŒ°ä¾‹å­</a></li> <li><a href="#returntypet"><code>ReturnType&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-10">ğŸŒ°ä¾‹å­</a></li> <li><a href="#instancetypet"><code>InstanceType&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-11">ğŸŒ°ä¾‹å­</a></li> <li><a href="#requiredt"><code>Required&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-12">ğŸŒ°ä¾‹å­</a></li> <li><a href="#thisparametertype"><code>ThisParameterType</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-13">ğŸŒ°ä¾‹å­</a></li> <li><a href="#omitthisparameter"><code>OmitThisParameter</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-14">ğŸŒ°ä¾‹å­</a></li> <li><a href="#thistypet"><code>ThisType&lt;T&gt;</code></a>
- <a href="#%f0%9f%8c%b0%e4%be%8b%e5%ad%90-15">ğŸŒ°ä¾‹å­</a></li></ul> <h1 id="partial-t"><a href="#partial-t" class="header-anchor">#</a> <code>Partial&lt;T&gt;</code></h1> <p>æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½Tè®¾ç½®ä¸ºoptionalçš„ç±»å‹ã€‚è¯¥å®ç”¨ç¨‹åºå°†è¿”å›ä¸€ä¸ªè¡¨ç¤ºç»™å®šç±»å‹çš„æ‰€æœ‰å­é›†çš„ç±»å‹ã€‚</p> <h5 id="ğŸŒ°ä¾‹å­"><a href="#ğŸŒ°ä¾‹å­" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">updateTodo</span><span class="token punctuation">(</span><span class="token parameter">todo<span class="token operator">:</span> Todo<span class="token punctuation">,</span> fieldsToUpdate<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Todo<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>todo<span class="token punctuation">,</span> <span class="token operator">...</span>fieldsToUpdate <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> todo1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">'organize desk'</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">'clear clutter'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> todo2 <span class="token operator">=</span> <span class="token function">updateTodo</span><span class="token punctuation">(</span>todo1<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    description<span class="token operator">:</span> <span class="token string">'throw out trash'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="readonly-t"><a href="#readonly-t" class="header-anchor">#</a> <code>Readonly&lt;T&gt;</code></h1> <p>æ„é€ ä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½Tè®¾ç½®ä¸ºçš„ç±»å‹readonlyï¼Œè¿™æ„å‘³ç€æ— æ³•é‡æ–°åˆ†é…æ‰€æ„é€ ç±»å‹çš„å±æ€§ã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-2"><a href="#ğŸŒ°ä¾‹å­-2" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> todo<span class="token operator">:</span> Readonly<span class="token operator">&lt;</span>Todo<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">'Delete inactive users'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

todo<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span> <span class="token comment">// Error: cannot reassign a readonly property</span>
</code></pre></div><p>è¯¥å®ç”¨ç¨‹åºå¯¹äºè¡¨ç¤ºåœ¨è¿è¡Œæ—¶å°†å¤±è´¥çš„èµ‹å€¼è¡¨è¾¾å¼å¾ˆæœ‰ç”¨ï¼ˆå³ï¼Œå½“å°è¯•é‡æ–°åˆ†é…<a href="">å†»ç»“å¯¹è±¡</a>çš„å±æ€§æ—¶ï¼‰ã€‚</p> <h5 id="object-freeze"><a href="#object-freeze" class="header-anchor">#</a> <code>Object.freeze</code></h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> freeze<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="record-k-t"><a href="#record-k-t" class="header-anchor">#</a> <code>Record&lt;K,T&gt;</code></h1> <p>æ„é€ å…·æœ‰ç±»å‹Kä¸ºtype çš„å±æ€§çš„ç±»å‹Tã€‚è¯¥å®ç”¨ç¨‹åºå¯ç”¨äºå°†ä¸€ä¸ªç±»å‹çš„å±æ€§æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-3"><a href="#ğŸŒ°ä¾‹å­-3" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">PageInfo</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Page <span class="token operator">=</span> <span class="token string">'home'</span> <span class="token operator">|</span> <span class="token string">'about'</span> <span class="token operator">|</span> <span class="token string">'contact'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> x<span class="token operator">:</span> Record<span class="token operator">&lt;</span>Page<span class="token punctuation">,</span> PageInfo<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    about<span class="token operator">:</span> <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'about'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    contact<span class="token operator">:</span> <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'contact'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'home'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="pick-t-k"><a href="#pick-t-k" class="header-anchor">#</a> <code>Pick&lt;T,K&gt;</code></h1> <p>é€šè¿‡Kä»ä¸­é€‰æ‹©å±æ€§é›†æ¥æ„é€ ç±»å‹Tã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-4"><a href="#ğŸŒ°ä¾‹å­-4" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> TodoPreview <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">'title'</span> <span class="token operator">|</span> <span class="token string">'completed'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> todo<span class="token operator">:</span> TodoPreview <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">'Clean room'</span><span class="token punctuation">,</span>
    completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="omit-t-k"><a href="#omit-t-k" class="header-anchor">#</a> <code>Omit&lt;T,K&gt;</code></h1> <p>é€šè¿‡ä»ä¸­é€‰æ‹©æ‰€æœ‰å±æ€§Tç„¶ååˆ é™¤æ¥æ„é€ ä¸€ä¸ªç±»å‹Kã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-5"><a href="#ğŸŒ°ä¾‹å­-5" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    completed<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> TodoPreview <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">'description'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> todo<span class="token operator">:</span> TodoPreview <span class="token operator">=</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">'Clean room'</span><span class="token punctuation">,</span>
    completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="exclude-t-u"><a href="#exclude-t-u" class="header-anchor">#</a> <code>Exclude&lt;T,U&gt;</code></h1> <p>é€šè¿‡æ’é™¤Tå¯åˆ†é…ç»™çš„æ‰€æœ‰å±æ€§æ¥æ„é€ ç±»å‹Uã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-6"><a href="#ğŸŒ°ä¾‹å­-6" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;b&quot; | &quot;c&quot;</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;c&quot;</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// string | number</span>
</code></pre></div><h1 id="extract-t-u"><a href="#extract-t-u" class="header-anchor">#</a> <code>Extract&lt;T,U&gt;</code></h1> <p>é€šè¿‡ä»Tå¯åˆ†é…ç»™çš„æ‰€æœ‰å±æ€§ä¸­æå–æ¥æ„é€ ç±»å‹U</p> <h5 id="ğŸŒ°ä¾‹å­-7"><a href="#ğŸŒ°ä¾‹å­-7" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;f&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;a&quot;</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// () =&gt; void</span>
</code></pre></div><h1 id="nonnullable-t"><a href="#nonnullable-t" class="header-anchor">#</a> <code>NonNullable&lt;T&gt;</code></h1> <p>é€šè¿‡ä»nullå’Œä¸­æ’é™¤æ„é€ ä¸€ä¸ªç±»å‹ã€‚undefinedT</p> <h5 id="ğŸŒ°ä¾‹å­-8"><a href="#ğŸŒ°ä¾‹å­-8" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// string | number</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// string[]</span>
</code></pre></div><h1 id="parameters-t"><a href="#parameters-t" class="header-anchor">#</a> <code>Parameters&lt;T&gt;</code></h1> <p>æ„é€ å‡½æ•°ç±»å‹â€œ Tâ€çš„å‚æ•°ç±»å‹çš„å…ƒç»„ç±»å‹ã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-9"><a href="#ğŸŒ°ä¾‹å­-9" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// []</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// [string]</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// [unknown]</span>
<span class="token keyword">type</span> <span class="token constant">T4</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> f1<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// { a: number, b: string }</span>
<span class="token keyword">type</span> <span class="token constant">T5</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// unknown[]</span>
<span class="token keyword">type</span> <span class="token constant">T6</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token constant">T7</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token keyword">type</span> <span class="token constant">T8</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
</code></pre></div><h1 id="constructorparameters-t"><a href="#constructorparameters-t" class="header-anchor">#</a> <code>ConstructorParameters&lt;T&gt;</code></h1> <p>ä½¿ç”¨<code>ConstructorParameters &lt;T&gt;</code>ç±»å‹å¯ä»¥æå–æ„é€ å‡½æ•°ç±»å‹çš„æ‰€æœ‰å‚æ•°ç±»å‹ã€‚ å®ƒäº§ç”Ÿä¸€ä¸ªå¸¦æœ‰æ‰€æœ‰å‚æ•°ç±»å‹çš„å…ƒç»„ç±»å‹ï¼ˆå¦‚æœ<code>T</code>ä¸æ˜¯å‡½æ•°ï¼Œåˆ™ä¸º<code>never</code>ç±»å‹ï¼‰ã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-10"><a href="#ğŸŒ°ä¾‹å­-10" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>ErrorConstructor<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// [(string | undefined)?]</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>FunctionConstructor<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// string[]</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>RegExpConstructor<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// [string, (string | undefined)?]</span>
</code></pre></div><h1 id="returntype-t"><a href="#returntype-t" class="header-anchor">#</a> <code>ReturnType&lt;T&gt;</code></h1> <p>æ„é€ ä¸€ä¸ªç”±å‡½æ•°çš„è¿”å›ç±»å‹ç»„æˆçš„ç±»å‹Tã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-11"><a href="#ğŸŒ°ä¾‹å­-11" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// void</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// {}</span>
<span class="token keyword">type</span> <span class="token constant">T3</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// number[]</span>
<span class="token keyword">type</span> <span class="token constant">T4</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> f1<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// { a: number, b: string }</span>
<span class="token keyword">type</span> <span class="token constant">T5</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token constant">T6</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token constant">T7</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token keyword">type</span> <span class="token constant">T8</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
</code></pre></div><h1 id="instancetype-t"><a href="#instancetype-t" class="header-anchor">#</a> <code>InstanceType&lt;T&gt;</code></h1> <p>æ„é€ ä¸€ä¸ªç”±æ„é€ å‡½æ•°ç±»å‹çš„å®ä¾‹ç±»å‹ç»„æˆçš„ç±»å‹Tã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-12"><a href="#ğŸŒ°ä¾‹å­-12" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token constant">T0</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> <span class="token constant">C</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// C</span>
<span class="token keyword">type</span> <span class="token constant">T1</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token constant">T2</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">never</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token constant">T3</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token keyword">type</span> <span class="token constant">T4</span> <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
</code></pre></div><h1 id="required-t"><a href="#required-t" class="header-anchor">#</a> <code>Required&lt;T&gt;</code></h1> <p>æ„é€ ä¸€ä¸ªç±»å‹ï¼Œè¯¥ç±»å‹ç”±Tset çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºrequiredã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-13"><a href="#ğŸŒ°ä¾‹å­-13" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
    a<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj<span class="token operator">:</span> Props <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token keyword">const</span> obj2<span class="token operator">:</span> Required<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Error: property 'b' missing</span>
</code></pre></div><h1 id="thisparametertype"><a href="#thisparametertype" class="header-anchor">#</a> <code>ThisParameterType</code></h1> <p>æå–å‡½æ•°ç±»å‹çš„â€œ thisâ€å‚æ•°çš„ç±»å‹ï¼Œå¦‚æœå‡½æ•°ç±»å‹æ²¡æœ‰â€œ thisâ€å‚æ•°ï¼Œåˆ™æå–â€œ unknownâ€ã€‚</p> <p>æ³¨æ„ï¼šä»…å½“å¯ç”¨äº†--strictFunctionTypesæ—¶ï¼Œæ­¤ç±»å‹æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ çœ‹åˆ° <a href="https://github.com/microsoft/TypeScript/issues/32964" target="_blank" rel="noopener noreferrer">#32964<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h5 id="ğŸŒ°ä¾‹å­-14"><a href="#ğŸŒ°ä¾‹å­-14" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">toHex</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span><span class="token operator">:</span> Number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">numberToString</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token operator">:</span> ThisParameterType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> toHex<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">toHex</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="omitthisparameter"><a href="#omitthisparameter" class="header-anchor">#</a> <code>OmitThisParameter</code></h1> <p>131/5000
ä»å‡½æ•°ç±»å‹ä¸­åˆ é™¤â€œ thisâ€å‚æ•°ã€‚</p> <p>æ³¨æ„ï¼šä»…å½“å¯ç”¨äº†--strictFunctionTypesæ—¶ï¼Œæ­¤ç±»å‹æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ çœ‹åˆ°<a href="https://github.com/microsoft/TypeScript/issues/32964" target="_blank" rel="noopener noreferrer">#32964<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h5 id="ğŸŒ°ä¾‹å­-15"><a href="#ğŸŒ°ä¾‹å­-15" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">toHex</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span><span class="token operator">:</span> Number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// The return type of `bind` is already using `OmitThisParameter`, this is just for demonstration.</span>
<span class="token keyword">const</span> fiveToHex<span class="token operator">:</span> OmitThisParameter<span class="token operator">&lt;</span><span class="token keyword">typeof</span> toHex<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">toHex</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fiveToHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="thistype-t"><a href="#thistype-t" class="header-anchor">#</a> <code>ThisType&lt;T&gt;</code></h1> <p>è¯¥å®ç”¨ç¨‹åºä¸è¿”å›è½¬æ¢åçš„ç±»å‹ã€‚ç›¸åï¼Œå®ƒç”¨ä½œä¸Šä¸‹æ–‡thisç±»å‹çš„æ ‡è®°ã€‚è¯·æ³¨æ„ï¼Œ--noImplicitThiså¿…é¡»å¯ç”¨è¯¥æ ‡å¿—æ‰èƒ½ä½¿ç”¨æ­¤å®ç”¨ç¨‹åºã€‚</p> <h5 id="ğŸŒ°ä¾‹å­-16"><a href="#ğŸŒ°ä¾‹å­-16" class="header-anchor">#</a> ğŸŒ°ä¾‹å­</h5> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Compile with --noImplicitThis</span>

<span class="token keyword">type</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">D</span><span class="token punctuation">;</span>
    methods<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">M</span> <span class="token operator">&amp;</span> ThisType<span class="token operator">&lt;</span><span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Type of 'this' in methods is D &amp; M</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeObject<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>desc<span class="token operator">:</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> data<span class="token operator">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> methods<span class="token operator">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>methods <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">,</span> <span class="token operator">...</span>methods <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">makeObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token parameter">dx<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> dy<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> dx<span class="token punctuation">;</span>  <span class="token comment">// Strongly typed this</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> dy<span class="token punctuation">;</span>  <span class="token comment">// Strongly typed this</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹methodsä¸­ï¼Œå‚æ•°toä¸­çš„å¯¹è±¡makeObjectå…·æœ‰ä¸Šä¸‹æ–‡ç±»å‹ï¼Œè¯¥ä¸Šä¸‹æ–‡ç±»å‹åŒ…æ‹¬<code>ThisType&lt;D &amp; M&gt;</code>ï¼Œå› æ­¤thisè¯¥methodså¯¹è±¡ä¸­inæ–¹æ³•çš„ç±»å‹ä¸º<code>{ x: number, y: number } &amp; { moveBy(dx: number, dy: number): number }</code>ã€‚è¯·æ³¨æ„ï¼Œmethodså±æ€§çš„ç±»å‹å¦‚ä½•åŒæ—¶æˆä¸ºthisæ–¹æ³•ä¸­ç±»å‹çš„æ¨æ–­ç›®æ ‡å’Œæ¥æºã€‚</p> <p>è¯¥<code>ThisType&lt;T&gt;</code>æ ‡è®°æ¥å£æ˜¯ç®€å•åœ°å®£å¸ƒä¸€ä¸ªç©ºçš„æ¥å£<code>lib.d.ts</code>ã€‚é™¤äº†åœ¨å¯¹è±¡æ–‡å­—çš„ä¸Šä¸‹æ–‡ç±»å‹ä¸­è¯†åˆ«å¤–ï¼Œè¯¥æ¥å£çš„ä½œç”¨ç±»ä¼¼äºä»»ä½•ç©ºæ¥å£ã€‚</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/7/2020, 3:48:55 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/ts-translate/handbook/22-JSDocSupportedTypes.html" class="prev">
        äºŒåäºŒã€ç±»å‹æ£€æŸ¥JavaScriptæ–‡ä»¶
      </a></span> <span class="next"><a href="/ts-translate/handbook/24-TypescriptIgnore.html">
        äºŒåå››ã€TypeScript ç±»å‹å¿½ç•¥
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ts-translate/assets/js/app.141fbb0f.js" defer></script><script src="/ts-translate/assets/js/2.a069a211.js" defer></script><script src="/ts-translate/assets/js/40.dfeb8b60.js" defer></script>
  </body>
</html>
